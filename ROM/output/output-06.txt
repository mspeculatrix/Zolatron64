.startrom
.startcode
     C000   78         SEI
     C001   D8         CLD
     C002   A2 FF      LDX #&FF
     C004   9A         TXS
     C005   A9 FF      LDA #&FF
     C007   8D 02 A0   STA &A002
     C00A   A9 E0      LDA #&E0
     C00C   8D 03 A0   STA &A003
     C00F   A9 00      LDA #&00
     C011   8D 01 B0   STA &B001
     C014   8D A0 02   STA &02A0
     C017   8D FF 04   STA &04FF
     C01A   8D FF 03   STA &03FF
     C01D   A9 9E      LDA #&9E
     C01F   8D 03 B0   STA &B003
     C022   A9 09      LDA #&09
     C024   8D 02 B0   STA &B002
     C027   A9 38      LDA #&38
     C029   20 F7 C1   JSR &C1F7
     C02C   A9 0C      LDA #&0C
     C02E   20 F7 C1   JSR &C1F7
     C031   A9 01      LDA #&01
     C033   20 F7 C1   JSR &C1F7
.main
     C036   A9 0A      LDA #&0A
     C038   20 A7 C1   JSR &C1A7
     C03B   20 A7 C1   JSR &C1A7
     C03E   A9 3C      LDA #&3C
     C040   85 70      STA &70
     C042   A9 C1      LDA #&C1
     C044   85 71      STA &71
     C046   20 B7 C1   JSR &C1B7
     C049   20 AE C1   JSR &C1AE
     C04C   A9 01      LDA #&01
     C04E   85 70      STA &70
     C050   A9 C4      LDA #&C4
     C052   85 71      STA &71
     C054   20 B7 C1   JSR &C1B7
     C057   20 C8 C1   JSR &C1C8
     C05A   A9 3C      LDA #&3C
     C05C   85 70      STA &70
     C05E   A9 C1      LDA #&C1
     C060   85 71      STA &71
     C062   20 25 C2   JSR &C225
     C065   A2 00      LDX #&00
     C067   A0 01      LDY #&01
     C069   20 33 C2   JSR &C233
     C06C   A9 01      LDA #&01
     C06E   85 70      STA &70
     C070   A9 C4      LDA #&C4
     C072   85 71      STA &71
     C074   20 25 C2   JSR &C225
     C077   A2 0A      LDX #&0A
     C079   A0 01      LDY #&01
     C07B   20 33 C2   JSR &C233
     C07E   A9 32      LDA #&32
     C080   85 70      STA &70
     C082   A9 C1      LDA #&C1
     C084   85 71      STA &71
     C086   20 25 C2   JSR &C225
     C089   A9 F6      LDA #&F6
     C08B   20 40 C2   JSR &C240
     C08E   A9 A0      LDA #&A0
     C090   85 70      STA &70
     C092   A9 07      LDA #&07
     C094   85 71      STA &71
     C096   20 B7 C1   JSR &C1B7
     C099   A9 33      LDA #&33
     C09B   85 64      STA &64
     C09D   A9 44      LDA #&44
     C09F   85 63      STA &63
     C0A1   20 5C C2   JSR &C25C
     C0A4   A5 60      LDA &60
     C0A6   20 A7 C1   JSR &C1A7
     C0A9   20 C8 C1   JSR &C1C8
     C0AC   58         CLI
.mainloop
     C0AD   AD A0 02   LDA &02A0
     C0B0   29 02      AND #&02
     C0B2   D0 0A      BNE &C0BE
     C0B4   AE FF 04   LDX &04FF
     C0B7   E0 F0      CPX #&F0
     C0B9   B0 03      BCS &C0BE
     C0BB   4C AD C0   JMP &C0AD
.process_rx
     C0BE   AD A0 02   LDA &02A0
     C0C1   29 F0      AND #&F0
     C0C3   8D A0 02   STA &02A0
     C0C6   20 7B C2   JSR &C27B
     C0C9   A5 60      LDA &60
     C0CB   20 40 C2   JSR &C240
     C0CE   A9 A0      LDA #&A0
     C0D0   85 70      STA &70
     C0D2   A9 07      LDA #&07
     C0D4   85 71      STA &71
     C0D6   20 B7 C1   JSR &C1B7
     C0D9   20 C8 C1   JSR &C1C8
     C0DC   A9 00      LDA #&00
     C0DE   8D FF 04   STA &04FF
     C0E1   4C AD C0   JMP &C0AD
.cmd_ch1_tbl
     C100   2A 4C 50 ...
     C104   FF
.cmd_ptrs
     C105   0D C1
     C107   0F C1
     C109   12 C1
     C10B   16 C1
.cmd_tbl_STAR
.cmd_STAR
     C10D   80
     C10E   00
.cmd_tbl_ASCL
.cmd_LM
     C10F   4D 
     C110   81
     C111   00
.cmd_tbl_ASCP
.cmd_PRT
     C112   52 54 
     C114   82
     C115   00
.cmd_tbl_ASCV
.cmd_VERBOSE
     C116   45 52 42 ...
     C11C   83
.cmd_VERS
     C11D   45 52 53 
     C120   84
     C121   00
.hex_chr_tbl
     C122   30 31 32 ...
.err_msg_syntax
     C132   57 68 61 ...
     C137   00
.prompt_msg
     C138   0A
     C139   5A 3E 
     C13B   00
.start_msg
     C13C   5A 6F 6C ...
     C147   00
.acia_wait_send_clr
     C148   48         PHA
.acia_wait_send_loop
     C149   AD 01 B0   LDA &B001
     C14C   29 10      AND #&10
     C14E   F0 F9      BEQ &C149
     C150   68         PLA
     C151   60         RTS
.acia_wait_byte_recvd
     C152   AD 01 B0   LDA &B001
     C155   29 08      AND #&08
     C157   F0 F9      BEQ &C152
     C159   60         RTS
.serial_print_rx_buf
     C15A   A9 01      LDA #&01
     C15C   20 F7 C1   JSR &C1F7
     C15F   20 C8 C1   JSR &C1C8
     C162   AD A0 02   LDA &02A0
     C165   29 F0      AND #&F0
     C167   8D A0 02   STA &02A0
     C16A   A2 00      LDX #&00
.get_rx_char
     C16C   BD 00 04   LDA &0400,X
     C16F   F0 0D      BEQ &C17E
     C171   20 0F C2   JSR &C20F
     C174   E8         INX
     C175   EC FF 04   CPX &04FF
     C178   F0 04      BEQ &C17E
     C17A   E0 FF      CPX #&FF
     C17C   D0 EE      BNE &C16C
.end_print_rx
     C17E   A2 00      LDX #&00
     C180   8E FF 04   STX &04FF
     C183   8E 00 04   STX &0400
     C186   60         RTS
.serial_send_buffer
     C187   A2 00      LDX #&00
.serial_send_next_char
     C189   BD 00 03   LDA &0300,X
     C18C   F0 13      BEQ &C1A1
     C18E   20 48 C1   JSR &C148
     C191   8D 00 B0   STA &B000
     C194   E8         INX
     C195   EC FF 03   CPX &03FF
     C198   F0 07      BEQ &C1A1
     C19A   E0 F0      CPX #&F0
     C19C   F0 03      BEQ &C1A1
     C19E   4C 89 C1   JMP &C189
.serial_send_buf_end
     C1A1   A9 00      LDA #&00
     C1A3   8D FF 03   STA &03FF
     C1A6   60         RTS
.serial_send_char
     C1A7   20 48 C1   JSR &C148
     C1AA   8D 00 B0   STA &B000
     C1AD   60         RTS
.serial_send_lineend
     C1AE   A9 0A      LDA #&0A
     C1B0   20 48 C1   JSR &C148
     C1B3   8D 00 B0   STA &B000
     C1B6   60         RTS
.serial_send_msg
     C1B7   A0 00      LDY #&00
.serial_send_msg_chr
     C1B9   B1 70      LDA (&70),Y
     C1BB   F0 0A      BEQ &C1C7
     C1BD   20 48 C1   JSR &C148
     C1C0   8D 00 B0   STA &B000
     C1C3   C8         INY
     C1C4   4C B9 C1   JMP &C1B9
.serial_send_msg_end
     C1C7   60         RTS
.serial_send_prompt
     C1C8   A9 38      LDA #&38
     C1CA   85 70      STA &70
     C1CC   A9 C1      LDA #&C1
     C1CE   85 71      STA &71
     C1D0   20 B7 C1   JSR &C1B7
     C1D3   60         RTS
.lcd_wait
     C1D4   48         PHA
     C1D5   A9 00      LDA #&00
     C1D7   8D 02 A0   STA &A002
.lcd_busy
     C1DA   A9 40      LDA #&40
     C1DC   8D 01 A0   STA &A001
     C1DF   A9 C0      LDA #&C0
     C1E1   8D 01 A0   STA &A001
     C1E4   AD 00 A0   LDA &A000
     C1E7   29 80      AND #&80
     C1E9   D0 EF      BNE &C1DA
     C1EB   A9 40      LDA #&40
     C1ED   8D 01 A0   STA &A001
     C1F0   A9 FF      LDA #&FF
     C1F2   8D 02 A0   STA &A002
     C1F5   68         PLA
     C1F6   60         RTS
.lcd_cmd
     C1F7   48         PHA
     C1F8   20 D4 C1   JSR &C1D4
     C1FB   8D 00 A0   STA &A000
     C1FE   A9 00      LDA #&00
     C200   8D 01 A0   STA &A001
     C203   A9 80      LDA #&80
     C205   8D 01 A0   STA &A001
     C208   A9 00      LDA #&00
     C20A   8D 01 A0   STA &A001
     C20D   68         PLA
     C20E   60         RTS
.lcd_prt_chr
     C20F   20 D4 C1   JSR &C1D4
     C212   8D 00 A0   STA &A000
     C215   A9 20      LDA #&20
     C217   8D 01 A0   STA &A001
     C21A   A9 A0      LDA #&A0
     C21C   8D 01 A0   STA &A001
     C21F   A9 20      LDA #&20
     C221   8D 01 A0   STA &A001
     C224   60         RTS
.lcd_prt_msg
     C225   A0 00      LDY #&00
.lcd_prt_msg_chr
     C227   B1 70      LDA (&70),Y
     C229   F0 07      BEQ &C232
     C22B   20 0F C2   JSR &C20F
     C22E   C8         INY
     C22F   4C 27 C2   JMP &C227
.lcd_prt_msg_end
     C232   60         RTS
.lcd_set_cursor
     C233   8A         TXA
     C234   C0 01      CPY #&01
     C236   90 02      BCC &C23A
     C238   69 3F      ADC #&3F
.lcd_move_curs
     C23A   09 80      ORA #&80
     C23C   20 F7 C1   JSR &C1F7
     C23F   60         RTS
.byte_to_hex_str
     C240   AA         TAX
     C241   4A         LSR A
     C242   4A         LSR A
     C243   4A         LSR A
     C244   4A         LSR A
     C245   A8         TAY
     C246   B9 22 C1   LDA &C122,Y
     C249   8D A0 07   STA &07A0
     C24C   8A         TXA
     C24D   29 0F      AND #&0F
     C24F   A8         TAY
     C250   B9 22 C1   LDA &C122,Y
     C253   8D A1 07   STA &07A1
     C256   A9 00      LDA #&00
     C258   8D A2 07   STA &07A2
     C25B   60         RTS
.hex_str_to_byte
     C25C   A5 64      LDA &64
     C25E   20 71 C2   JSR &C271
     C261   0A         ASL A
     C262   0A         ASL A
     C263   0A         ASL A
     C264   0A         ASL A
     C265   85 60      STA &60
     C267   A5 63      LDA &63
     C269   20 71 C2   JSR &C271
     C26C   05 60      ORA &60
     C26E   85 60      STA &60
     C270   60         RTS
.asc_hex_to_bin
     C271   38         SEC
     C272   E9 30      SBC #&30
     C274   C9 0A      CMP #&0A
     C276   90 02      BCC &C27A
     C278   E9 07      SBC #&07
.asc_hex_to_bin_end
     C27A   60         RTS
.parse_input
     C27B   A9 00      LDA #&00
     C27D   85 60      STA &60
     C27F   AD 00 04   LDA &0400
     C282   85 50      STA &50
     C284   A2 00      LDX #&00
.parse_next_test
     C286   BD 00 C1   LDA &C100,X
     C289   C9 FF      CMP #&FF
     C28B   F0 08      BEQ &C295
     C28D   C5 50      CMP &50
     C28F   F0 07      BEQ &C298
     C291   E8         INX
     C292   4C 86 C2   JMP &C286
.parse_1st_char_fail
     C295   4C D6 C2   JMP &C2D6
.parse_1st_char_match
     C298   8A         TXA
     C299   0A         ASL A
     C29A   AA         TAX
     C29B   BD 05 C1   LDA &C105,X
     C29E   85 72      STA &72
     C2A0   BD 06 C1   LDA &C106,X
     C2A3   85 73      STA &73
     C2A5   A0 00      LDY #&00
     C2A7   A2 01      LDX #&01
.parse_next_chr
     C2A9   BD 00 04   LDA &0400,X
     C2AC   85 50      STA &50
     C2AE   B1 72      LDA (&72),Y
     C2B0   C9 80      CMP #&80
     C2B2   B0 0D      BCS &C2C1
     C2B4   C9 00      CMP #&00
     C2B6   F0 1E      BEQ &C2D6
     C2B8   C5 50      CMP &50
     C2BA   D0 0A      BNE &C2C6
     C2BC   E8         INX
     C2BD   C8         INY
     C2BE   4C A9 C2   JMP &C2A9
.parse_token_found
     C2C1   85 60      STA &60
     C2C3   4C D6 C2   JMP &C2D6
.parse_next_cmd
     C2C6   A2 01      LDX #&01
.parse_fast_forward
     C2C8   C8         INY
     C2C9   B1 72      LDA (&72),Y
     C2CB   C9 80      CMP #&80
     C2CD   B0 03      BCS &C2D2
     C2CF   4C C8 C2   JMP &C2C8
.parse_next_cmd_jmp
     C2D2   C8         INY
     C2D3   4C A9 C2   JMP &C2A9
.parse_end
     C2D6   86 65      STX &65
     C2D8   60         RTS
.ISR_handler
     C300   48         PHA
     C301   8A         TXA
     C302   48         PHA
     C303   2C 01 B0   BIT &B001
     C306   30 03      BMI &C30B
     C308   4C 2E C3   JMP &C32E
.acia_isr
     C30B   AE FF 04   LDX &04FF
     C30E   AD 00 B0   LDA &B000
     C311   9D 00 04   STA &0400,X
     C314   F0 09      BEQ &C31F
     C316   C9 0A      CMP #&0A
     C318   D0 0D      BNE &C327
     C31A   A9 00      LDA #&00
     C31C   9D 00 04   STA &0400,X
.acia_rx_set_null
     C31F   AD A0 02   LDA &02A0
     C322   09 02      ORA #&02
     C324   8D A0 02   STA &02A0
.acia_isr_end
     C327   E8         INX
     C328   8E FF 04   STX &04FF
     C32B   AD 01 B0   LDA &B001
.exit_isr
     C32E   68         PLA
     C32F   AA         TAX
     C330   68         PLA
     C331   40         RTI
.NMI_handler
.exit_nmi
     C400   40         RTI
.version_str
     C401   52 4F 4D ...
     C408   00
     FFFA   00 C4
     FFFC   00 C0
     FFFE   00 C3
.endrom
Saving file '../bin/z64-ROM-06.bin'
