.startrom
.startcode
     C000   78         SEI
     C001   D8         CLD
     C002   A2 FF      LDX #&FF
     C004   9A         TXS
     C005   A9 FF      LDA #&FF
     C007   8D 02 A0   STA &A002
     C00A   A9 E0      LDA #&E0
     C00C   8D 03 A0   STA &A003
     C00F   9C 01 B0   STZ &B001
     C012   9C A0 02   STZ &02A0
     C015   9C FF 04   STZ &04FF
     C018   9C FF 03   STZ &03FF
     C01B   A9 9E      LDA #&9E
     C01D   8D 03 B0   STA &B003
     C020   A9 09      LDA #&09
     C022   8D 02 B0   STA &B002
     C025   A9 38      LDA #&38
     C027   20 31 C3   JSR &C331
     C02A   A9 0C      LDA #&0C
     C02C   20 31 C3   JSR &C331
     C02F   A9 01      LDA #&01
     C031   20 31 C3   JSR &C331
.main
     C034   A9 0A      LDA #&0A
     C036   20 C6 C2   JSR &C2C6
     C039   20 C6 C2   JSR &C2C6
     C03C   A9 5D      LDA #&5D
     C03E   85 70      STA &70
     C040   A9 C2      LDA #&C2
     C042   85 71      STA &71
     C044   20 EB C2   JSR &C2EB
     C047   20 E2 C2   JSR &C2E2
     C04A   A9 01      LDA #&01
     C04C   85 70      STA &70
     C04E   A9 C6      LDA #&C6
     C050   85 71      STA &71
     C052   20 EB C2   JSR &C2EB
     C055   20 02 C3   JSR &C302
     C058   A9 5D      LDA #&5D
     C05A   85 70      STA &70
     C05C   A9 C2      LDA #&C2
     C05E   85 71      STA &71
     C060   20 5B C3   JSR &C35B
     C063   A2 00      LDX #&00
     C065   A0 01      LDY #&01
     C067   20 69 C3   JSR &C369
     C06A   A9 01      LDA #&01
     C06C   85 70      STA &70
     C06E   A9 C6      LDA #&C6
     C070   85 71      STA &71
     C072   20 5B C3   JSR &C35B
     C075   58         CLI
.mainloop
     C076   AD A0 02   LDA &02A0
     C079   29 02      AND #&02
     C07B   D0 0B      BNE &C088
     C07D   18         CLC
     C07E   AE FF 04   LDX &04FF
     C081   E0 F0      CPX #&F0
     C083   B0 03      BCS &C088
     C085   4C 76 C0   JMP &C076
.process_rx
     C088   78         SEI
     C089   AD A0 02   LDA &02A0
     C08C   29 F0      AND #&F0
     C08E   8D A0 02   STA &02A0
     C091   20 BC C3   JSR &C3BC
     C094   A5 60      LDA &60
     C096   C9 00      CMP #&00
     C098   F0 21      BEQ &C0BB
     C09A   C9 01      CMP #&01
     C09C   F0 12      BEQ &C0B0
     C09E   38         SEC
     C09F   E9 80      SBC #&80
     C0A1   0A         ASL A
     C0A2   A8         TAY
     C0A3   B9 C1 C0   LDA &C0C1,Y
     C0A6   85 71      STA &71
     C0A8   B9 C2 C0   LDA &C0C2,Y
     C0AB   85 72      STA &72
     C0AD   6C 71 00   JMP (&0071)
.process_input_fail
     C0B0   A9 34      LDA #&34
     C0B2   85 70      STA &70
     C0B4   A9 C2      LDA #&C2
     C0B6   85 71      STA &71
     C0B8   20 EB C2   JSR &C2EB
.process_input_nul
     C0BB   20 02 C3   JSR &C302
     C0BE   4C 7B C1   JMP &C17B
.cmd_proc_ptrs
     C0C1   CD C0
     C0C3   D0 C0
     C0C5   64 C1
     C0C7   67 C1
     C0C9   6A C1
     C0CB   6D C1
.cmd_proc_STAR
     C0CD   4C 78 C1   JMP &C178
.cmd_proc_LM
     C0D0   9C E3 07   STZ &07E3
     C0D3   9C 66 08   STZ &0866
     C0D6   A9 01      LDA #&01
     C0D8   8D E2 07   STA &07E2
.cmd_proc_LM_next2
     C0DB   A0 01      LDY #&01
.cmd_proc_LM_next_byte
     C0DD   BD 00 04   LDA &0400,X
     C0E0   E8         INX
     C0E1   C9 00      CMP #&00
     C0E3   F0 71      BEQ &C156
     C0E5   C9 20      CMP #&20
     C0E7   F0 F4      BEQ &C0DD
     C0E9   99 63 00   STA &0063,Y
     C0EC   C0 00      CPY #&00
     C0EE   F0 04      BEQ &C0F4
     C0F0   88         DEY
     C0F1   4C DD C0   JMP &C0DD
.cmd_proc_LM_conv
     C0F4   20 9B C3   JSR &C39B
     C0F7   AD E2 07   LDA &07E2
     C0FA   18         CLC
     C0FB   6D E3 07   ADC &07E3
     C0FE   A8         TAY
     C0FF   A5 60      LDA &60
     C101   99 A0 07   STA &07A0,Y
     C104   AD E2 07   LDA &07E2
     C107   49 01      EOR #&01
     C109   8D E2 07   STA &07E2
     C10C   EE 66 08   INC &0866
     C10F   AD 66 08   LDA &0866
     C112   29 02      AND #&02
     C114   8D E3 07   STA &07E3
     C117   A9 04      LDA #&04
     C119   CD 66 08   CMP &0866
     C11C   F0 03      BEQ &C121
     C11E   4C DB C0   JMP &C0DB
.cmd_proc_LM_output
     C121   BD 00 04   LDA &0400,X
     C124   C9 00      CMP #&00
     C126   F0 03      BEQ &C12B
     C128   4C 56 C1   JMP &C156
.cmd_proc_LM_o_ok
     C12B   A0 00      LDY #&00
.cmd_proc_LM_o_next
     C12D   B9 A0 07   LDA &07A0,Y
     C130   8D E4 07   STA &07E4
     C133   20 76 C3   JSR &C376
     C136   A9 E5      LDA #&E5
     C138   85 70      STA &70
     C13A   A9 07      LDA #&07
     C13C   85 71      STA &71
     C13E   20 EB C2   JSR &C2EB
     C141   A9 20      LDA #&20
     C143   20 C6 C2   JSR &C2C6
     C146   C0 03      CPY #&03
     C148   F0 04      BEQ &C14E
     C14A   C8         INY
     C14B   4C 2D C1   JMP &C12D
.cmd_proc_LM_o_end
     C14E   A9 0A      LDA #&0A
     C150   20 C6 C2   JSR &C2C6
     C153   4C 61 C1   JMP &C161
.cmd_proc_LM_chk
.cmd_proc_LM_fail
     C156   A9 3A      LDA #&3A
     C158   85 70      STA &70
     C15A   A9 C2      LDA #&C2
     C15C   85 71      STA &71
     C15E   20 EB C2   JSR &C2EB
.cmd_proc_LM_end
     C161   4C 78 C1   JMP &C178
.cmd_proc_LP
     C164   4C 78 C1   JMP &C178
.cmd_proc_PRT
     C167   4C 78 C1   JMP &C178
.cmd_proc_VERBOSE
     C16A   4C 78 C1   JMP &C178
.cmd_proc_VERS
     C16D   A9 01      LDA #&01
     C16F   85 70      STA &70
     C171   A9 C6      LDA #&C6
     C173   85 71      STA &71
     C175   20 EB C2   JSR &C2EB
.cmd_proc_end
     C178   20 02 C3   JSR &C302
.process_rx_done
     C17B   9C FF 04   STZ &04FF
     C17E   58         CLI
     C17F   4C 76 C0   JMP &C076
.cmd_ch1_tbl
     C200   2A 4C 50 ...
     C204   FF
.cmd_ptrs
     C205   0D C2
     C207   0F C2
     C209   14 C2
     C20B   18 C2
.cmd_tbl_STAR
.cmd_STAR
     C20D   80
     C20E   00
.cmd_tbl_ASCL
.cmd_LM
     C20F   4D 
     C210   81
.cmd_LP
     C211   50 
     C212   82
     C213   00
.cmd_tbl_ASCP
.cmd_PRT
     C214   52 54 
     C216   83
     C217   00
.cmd_tbl_ASCV
.cmd_VERBOSE
     C218   45 52 42 ...
     C21E   84
.cmd_VERS
     C21F   45 52 53 
     C222   85
     C223   00
.hex_chr_tbl
     C224   30 31 32 ...
.err_msg_syntax
     C234   57 68 61 ...
     C239   00
.err_msg_cmd
     C23A   42 61 64 ...
     C258   00
.prompt_msg
     C259   0A
     C25A   5A 3E 
     C25C   00
.start_msg
     C25D   5A 6F 6C ...
     C268   00
.acia_wait_send_clr
     C269   48         PHA
.acia_wait_send_loop
     C26A   AD 01 B0   LDA &B001
     C26D   29 10      AND #&10
     C26F   F0 F9      BEQ &C26A
     C271   68         PLA
     C272   60         RTS
.acia_wait_byte_recvd
     C273   AD 01 B0   LDA &B001
     C276   29 08      AND #&08
     C278   F0 F9      BEQ &C273
     C27A   60         RTS
.serial_print_rx_buf
     C27B   A9 01      LDA #&01
     C27D   20 31 C3   JSR &C331
     C280   20 02 C3   JSR &C302
     C283   AD A0 02   LDA &02A0
     C286   29 F0      AND #&F0
     C288   8D A0 02   STA &02A0
     C28B   A2 00      LDX #&00
.get_rx_char
     C28D   BD 00 04   LDA &0400,X
     C290   F0 0D      BEQ &C29F
     C292   20 45 C3   JSR &C345
     C295   E8         INX
     C296   EC FF 04   CPX &04FF
     C299   F0 04      BEQ &C29F
     C29B   E0 FF      CPX #&FF
     C29D   D0 EE      BNE &C28D
.end_print_rx
     C29F   9C FF 04   STZ &04FF
     C2A2   9C 00 04   STZ &0400
     C2A5   60         RTS
.serial_send_buffer
     C2A6   A2 00      LDX #&00
.serial_send_next_char
     C2A8   BD 00 03   LDA &0300,X
     C2AB   F0 13      BEQ &C2C0
     C2AD   20 69 C2   JSR &C269
     C2B0   8D 00 B0   STA &B000
     C2B3   E8         INX
     C2B4   EC FF 03   CPX &03FF
     C2B7   F0 07      BEQ &C2C0
     C2B9   E0 F0      CPX #&F0
     C2BB   F0 03      BEQ &C2C0
     C2BD   4C A8 C2   JMP &C2A8
.serial_send_buf_end
     C2C0   A9 00      LDA #&00
     C2C2   8D FF 03   STA &03FF
     C2C5   60         RTS
.serial_send_char
     C2C6   20 69 C2   JSR &C269
     C2C9   8D 00 B0   STA &B000
     C2CC   60         RTS
.serial_send_hexval
     C2CD   48         PHA
     C2CE   DA         PHX
     C2CF   5A         PHY
     C2D0   20 76 C3   JSR &C376
     C2D3   A9 A0      LDA #&A0
     C2D5   85 70      STA &70
     C2D7   A9 07      LDA #&07
     C2D9   85 71      STA &71
     C2DB   20 EB C2   JSR &C2EB
     C2DE   7A         PLY
     C2DF   FA         PLX
     C2E0   68         PLA
     C2E1   60         RTS
.serial_send_lineend
     C2E2   A9 0A      LDA #&0A
     C2E4   20 69 C2   JSR &C269
     C2E7   8D 00 B0   STA &B000
     C2EA   60         RTS
.serial_send_msg
     C2EB   48         PHA
     C2EC   98         TYA
     C2ED   48         PHA
     C2EE   A0 00      LDY #&00
.serial_send_msg_chr
     C2F0   B1 70      LDA (&70),Y
     C2F2   F0 0A      BEQ &C2FE
     C2F4   20 69 C2   JSR &C269
     C2F7   8D 00 B0   STA &B000
     C2FA   C8         INY
     C2FB   4C F0 C2   JMP &C2F0
.serial_send_msg_end
     C2FE   68         PLA
     C2FF   A8         TAY
     C300   68         PLA
     C301   60         RTS
.serial_send_prompt
     C302   A9 59      LDA #&59
     C304   85 70      STA &70
     C306   A9 C2      LDA #&C2
     C308   85 71      STA &71
     C30A   20 EB C2   JSR &C2EB
     C30D   60         RTS
.lcd_wait
     C30E   48         PHA
     C30F   A9 00      LDA #&00
     C311   8D 02 A0   STA &A002
.lcd_busy
     C314   A9 40      LDA #&40
     C316   8D 01 A0   STA &A001
     C319   A9 C0      LDA #&C0
     C31B   8D 01 A0   STA &A001
     C31E   AD 00 A0   LDA &A000
     C321   29 80      AND #&80
     C323   D0 EF      BNE &C314
     C325   A9 40      LDA #&40
     C327   8D 01 A0   STA &A001
     C32A   A9 FF      LDA #&FF
     C32C   8D 02 A0   STA &A002
     C32F   68         PLA
     C330   60         RTS
.lcd_cmd
     C331   48         PHA
     C332   20 0E C3   JSR &C30E
     C335   8D 00 A0   STA &A000
     C338   9C 01 A0   STZ &A001
     C33B   A9 80      LDA #&80
     C33D   8D 01 A0   STA &A001
     C340   9C 01 A0   STZ &A001
     C343   68         PLA
     C344   60         RTS
.lcd_prt_chr
     C345   20 0E C3   JSR &C30E
     C348   8D 00 A0   STA &A000
     C34B   A9 20      LDA #&20
     C34D   8D 01 A0   STA &A001
     C350   A9 A0      LDA #&A0
     C352   8D 01 A0   STA &A001
     C355   A9 20      LDA #&20
     C357   8D 01 A0   STA &A001
     C35A   60         RTS
.lcd_prt_msg
     C35B   A0 00      LDY #&00
.lcd_prt_msg_chr
     C35D   B1 70      LDA (&70),Y
     C35F   F0 07      BEQ &C368
     C361   20 45 C3   JSR &C345
     C364   C8         INY
     C365   4C 5D C3   JMP &C35D
.lcd_prt_msg_end
     C368   60         RTS
.lcd_set_cursor
     C369   8A         TXA
     C36A   C0 01      CPY #&01
     C36C   90 02      BCC &C370
     C36E   09 40      ORA #&40
.lcd_move_curs
     C370   09 80      ORA #&80
     C372   20 31 C3   JSR &C331
     C375   60         RTS
.byte_to_hex_str
     C376   48         PHA
     C377   DA         PHX
     C378   5A         PHY
     C379   AD E4 07   LDA &07E4
     C37C   AA         TAX
     C37D   4A         LSR A
     C37E   4A         LSR A
     C37F   4A         LSR A
     C380   4A         LSR A
     C381   A8         TAY
     C382   B9 24 C2   LDA &C224,Y
     C385   8D E5 07   STA &07E5
     C388   8A         TXA
     C389   29 0F      AND #&0F
     C38B   A8         TAY
     C38C   B9 24 C2   LDA &C224,Y
     C38F   8D E6 07   STA &07E6
     C392   A9 00      LDA #&00
     C394   8D E7 07   STA &07E7
     C397   7A         PLY
     C398   FA         PLX
     C399   68         PLA
     C39A   60         RTS
.hex_str_to_byte
     C39B   48         PHA
     C39C   A5 64      LDA &64
     C39E   20 B2 C3   JSR &C3B2
     C3A1   0A         ASL A
     C3A2   0A         ASL A
     C3A3   0A         ASL A
     C3A4   0A         ASL A
     C3A5   85 60      STA &60
     C3A7   A5 63      LDA &63
     C3A9   20 B2 C3   JSR &C3B2
     C3AC   05 60      ORA &60
     C3AE   85 60      STA &60
     C3B0   68         PLA
     C3B1   60         RTS
.asc_hex_to_bin
     C3B2   38         SEC
     C3B3   E9 30      SBC #&30
     C3B5   C9 0A      CMP #&0A
     C3B7   90 02      BCC &C3BB
     C3B9   E9 07      SBC #&07
.asc_hex_to_bin_end
     C3BB   60         RTS
.parse_input
     C3BC   A9 01      LDA #&01
     C3BE   85 60      STA &60
     C3C0   A2 00      LDX #&00
     C3C2   AD 00 04   LDA &0400
     C3C5   C9 00      CMP #&00
     C3C7   F0 11      BEQ &C3DA
     C3C9   85 50      STA &50
.parse_next_test
     C3CB   BD 00 C2   LDA &C200,X
     C3CE   C9 FF      CMP #&FF
     C3D0   F0 0A      BEQ &C3DC
     C3D2   C5 50      CMP &50
     C3D4   F0 09      BEQ &C3DF
     C3D6   E8         INX
     C3D7   4C CB C3   JMP &C3CB
.parse_cmd_nul
     C3DA   85 60      STA &60
.parse_1st_char_fail
     C3DC   4C 2E C4   JMP &C42E
.parse_1st_char_match
     C3DF   8A         TXA
     C3E0   0A         ASL A
     C3E1   AA         TAX
     C3E2   BD 05 C2   LDA &C205,X
     C3E5   85 71      STA &71
     C3E7   BD 06 C2   LDA &C206,X
     C3EA   85 72      STA &72
     C3EC   A0 00      LDY #&00
     C3EE   A2 01      LDX #&01
.parse_next_chr
     C3F0   BD 00 04   LDA &0400,X
     C3F3   85 50      STA &50
     C3F5   B1 71      LDA (&71),Y
     C3F7   C9 80      CMP #&80
     C3F9   B0 0D      BCS &C408
     C3FB   C9 00      CMP #&00
     C3FD   F0 2F      BEQ &C42E
     C3FF   C5 50      CMP &50
     C401   D0 1B      BNE &C41E
     C403   E8         INX
     C404   C8         INY
     C405   4C F0 C3   JMP &C3F0
.parse_token_found
     C408   48         PHA
     C409   BD 00 04   LDA &0400,X
     C40C   A8         TAY
     C40D   68         PLA
     C40E   C0 20      CPY #&20
     C410   F0 07      BEQ &C419
     C412   C0 00      CPY #&00
     C414   F0 03      BEQ &C419
     C416   4C 2E C4   JMP &C42E
.parse_token_ok
     C419   85 60      STA &60
     C41B   4C 2E C4   JMP &C42E
.parse_next_cmd
     C41E   A2 01      LDX #&01
.parse_fast_forward
     C420   C8         INY
     C421   B1 71      LDA (&71),Y
     C423   C9 80      CMP #&80
     C425   B0 03      BCS &C42A
     C427   4C 20 C4   JMP &C420
.parse_next_cmd_jmp
     C42A   C8         INY
     C42B   4C F0 C3   JMP &C3F0
.parse_end
     C42E   60         RTS
.ISR_handler
     C500   48         PHA
     C501   DA         PHX
     C502   5A         PHY
     C503   2C 01 B0   BIT &B001
     C506   30 03      BMI &C50B
     C508   4C 2C C5   JMP &C52C
.acia_isr
     C50B   AE FF 04   LDX &04FF
     C50E   AD 00 B0   LDA &B000
     C511   9D 00 04   STA &0400,X
     C514   F0 07      BEQ &C51D
     C516   C9 0A      CMP #&0A
     C518   D0 0B      BNE &C525
     C51A   9E 00 04   STZ &0400,X
.acia_rx_set_null
     C51D   AD A0 02   LDA &02A0
     C520   09 02      ORA #&02
     C522   8D A0 02   STA &02A0
.acia_isr_end
     C525   E8         INX
     C526   8E FF 04   STX &04FF
     C529   AD 01 B0   LDA &B001
.exit_isr
     C52C   7A         PLY
     C52D   FA         PLX
     C52E   68         PLA
     C52F   40         RTI
.NMI_handler
.exit_nmi
     C600   40         RTI
.version_str
     C601   5A 6F 6C ...
     C60A   00
     FFFA   00 C6
     FFFC   00 C0
     FFFE   00 C5
.endrom
Saving file '../bin/z64-ROM-dev.bin'
