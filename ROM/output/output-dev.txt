.startrom
.startcode
     C000   78         SEI
     C001   D8         CLD
     C002   A2 FF      LDX #&FF
     C004   9A         TXS
     C005   A9 FF      LDA #&FF
     C007   8D 02 A0   STA &A002
     C00A   A9 E0      LDA #&E0
     C00C   8D 03 A0   STA &A003
     C00F   A9 00      LDA #&00
     C011   8D 01 B0   STA &B001
     C014   8D A0 02   STA &02A0
     C017   8D FF 04   STA &04FF
     C01A   8D FF 03   STA &03FF
     C01D   A9 9E      LDA #&9E
     C01F   8D 03 B0   STA &B003
     C022   A9 09      LDA #&09
     C024   8D 02 B0   STA &B002
     C027   A9 38      LDA #&38
     C029   20 35 C3   JSR &C335
     C02C   A9 0C      LDA #&0C
     C02E   20 35 C3   JSR &C335
     C031   A9 01      LDA #&01
     C033   20 35 C3   JSR &C335
.main
     C036   A9 0A      LDA #&0A
     C038   20 C6 C2   JSR &C2C6
     C03B   20 C6 C2   JSR &C2C6
     C03E   A9 5B      LDA #&5B
     C040   85 70      STA &70
     C042   A9 C2      LDA #&C2
     C044   85 71      STA &71
     C046   20 EF C2   JSR &C2EF
     C049   20 E6 C2   JSR &C2E6
     C04C   A9 01      LDA #&01
     C04E   85 70      STA &70
     C050   A9 C6      LDA #&C6
     C052   85 71      STA &71
     C054   20 EF C2   JSR &C2EF
     C057   20 06 C3   JSR &C306
     C05A   A9 5B      LDA #&5B
     C05C   85 70      STA &70
     C05E   A9 C2      LDA #&C2
     C060   85 71      STA &71
     C062   20 63 C3   JSR &C363
     C065   A2 00      LDX #&00
     C067   A0 01      LDY #&01
     C069   20 71 C3   JSR &C371
     C06C   A9 01      LDA #&01
     C06E   85 70      STA &70
     C070   A9 C6      LDA #&C6
     C072   85 71      STA &71
     C074   20 63 C3   JSR &C363
     C077   58         CLI
.mainloop
     C078   AD A0 02   LDA &02A0
     C07B   29 02      AND #&02
     C07D   D0 0B      BNE &C08A
     C07F   18         CLC
     C080   AE FF 04   LDX &04FF
     C083   E0 F0      CPX #&F0
     C085   B0 03      BCS &C08A
     C087   4C 78 C0   JMP &C078
.process_rx
     C08A   78         SEI
     C08B   AD A0 02   LDA &02A0
     C08E   29 F0      AND #&F0
     C090   8D A0 02   STA &02A0
     C093   20 C8 C3   JSR &C3C8
     C096   A5 60      LDA &60
     C098   C9 00      CMP #&00
     C09A   F0 21      BEQ &C0BD
     C09C   C9 01      CMP #&01
     C09E   F0 12      BEQ &C0B2
     C0A0   38         SEC
     C0A1   E9 80      SBC #&80
     C0A3   0A         ASL A
     C0A4   A8         TAY
     C0A5   B9 C3 C0   LDA &C0C3,Y
     C0A8   85 71      STA &71
     C0AA   B9 C4 C0   LDA &C0C4,Y
     C0AD   85 72      STA &72
     C0AF   6C 71 00   JMP (&0071)
.process_input_fail
     C0B2   A9 32      LDA #&32
     C0B4   85 70      STA &70
     C0B6   A9 C2      LDA #&C2
     C0B8   85 71      STA &71
     C0BA   20 EF C2   JSR &C2EF
.process_input_nul
     C0BD   20 06 C3   JSR &C306
     C0C0   4C 7A C1   JMP &C17A
.cmd_proc_ptrs
     C0C3   CD C0
     C0C5   D0 C0
     C0C7   66 C1
     C0C9   69 C1
     C0CB   6C C1
.cmd_proc_STAR
     C0CD   4C 77 C1   JMP &C177
.cmd_proc_LM
     C0D0   A9 00      LDA #&00
     C0D2   8D E3 07   STA &07E3
     C0D5   8D 66 08   STA &0866
     C0D8   A9 01      LDA #&01
     C0DA   8D E2 07   STA &07E2
.cmd_proc_LM_next2
     C0DD   A0 01      LDY #&01
.cmd_proc_LM_next_byte
     C0DF   BD 00 04   LDA &0400,X
     C0E2   E8         INX
     C0E3   C9 00      CMP #&00
     C0E5   F0 71      BEQ &C158
     C0E7   C9 20      CMP #&20
     C0E9   F0 F4      BEQ &C0DF
     C0EB   99 63 00   STA &0063,Y
     C0EE   C0 00      CPY #&00
     C0F0   F0 04      BEQ &C0F6
     C0F2   88         DEY
     C0F3   4C DF C0   JMP &C0DF
.cmd_proc_LM_conv
     C0F6   20 A7 C3   JSR &C3A7
     C0F9   AD E2 07   LDA &07E2
     C0FC   18         CLC
     C0FD   6D E3 07   ADC &07E3
     C100   A8         TAY
     C101   A5 60      LDA &60
     C103   99 A0 07   STA &07A0,Y
     C106   AD E2 07   LDA &07E2
     C109   49 01      EOR #&01
     C10B   8D E2 07   STA &07E2
     C10E   EE 66 08   INC &0866
     C111   AD 66 08   LDA &0866
     C114   29 02      AND #&02
     C116   8D E3 07   STA &07E3
     C119   A9 04      LDA #&04
     C11B   CD 66 08   CMP &0866
     C11E   F0 03      BEQ &C123
     C120   4C DD C0   JMP &C0DD
.cmd_proc_LM_output
     C123   BD 00 04   LDA &0400,X
     C126   C9 00      CMP #&00
     C128   F0 03      BEQ &C12D
     C12A   4C 58 C1   JMP &C158
.cmd_proc_LM_o_ok
     C12D   A0 00      LDY #&00
.cmd_proc_LM_o_next
     C12F   B9 A0 07   LDA &07A0,Y
     C132   8D E4 07   STA &07E4
     C135   20 7E C3   JSR &C37E
     C138   A9 E5      LDA #&E5
     C13A   85 70      STA &70
     C13C   A9 07      LDA #&07
     C13E   85 71      STA &71
     C140   20 EF C2   JSR &C2EF
     C143   A9 20      LDA #&20
     C145   20 C6 C2   JSR &C2C6
     C148   C0 03      CPY #&03
     C14A   F0 04      BEQ &C150
     C14C   C8         INY
     C14D   4C 2F C1   JMP &C12F
.cmd_proc_LM_o_end
     C150   A9 0A      LDA #&0A
     C152   20 C6 C2   JSR &C2C6
     C155   4C 63 C1   JMP &C163
.cmd_proc_LM_chk
.cmd_proc_LM_fail
     C158   A9 38      LDA #&38
     C15A   85 70      STA &70
     C15C   A9 C2      LDA #&C2
     C15E   85 71      STA &71
     C160   20 EF C2   JSR &C2EF
.cmd_proc_LM_end
     C163   4C 77 C1   JMP &C177
.cmd_proc_PRT
     C166   4C 77 C1   JMP &C177
.cmd_proc_VERBOSE
     C169   4C 77 C1   JMP &C177
.cmd_proc_VERS
     C16C   A9 01      LDA #&01
     C16E   85 70      STA &70
     C170   A9 C6      LDA #&C6
     C172   85 71      STA &71
     C174   20 EF C2   JSR &C2EF
.cmd_proc_end
     C177   20 06 C3   JSR &C306
.process_rx_done
     C17A   A9 00      LDA #&00
     C17C   8D FF 04   STA &04FF
     C17F   58         CLI
     C180   4C 78 C0   JMP &C078
.cmd_ch1_tbl
     C200   2A 4C 50 ...
     C204   FF
.cmd_ptrs
     C205   0D C2
     C207   0F C2
     C209   12 C2
     C20B   16 C2
.cmd_tbl_STAR
.cmd_STAR
     C20D   80
     C20E   00
.cmd_tbl_ASCL
.cmd_LM
     C20F   4D 
     C210   81
     C211   00
.cmd_tbl_ASCP
.cmd_PRT
     C212   52 54 
     C214   82
     C215   00
.cmd_tbl_ASCV
.cmd_VERBOSE
     C216   45 52 42 ...
     C21C   83
.cmd_VERS
     C21D   45 52 53 
     C220   84
     C221   00
.hex_chr_tbl
     C222   30 31 32 ...
.err_msg_syntax
     C232   57 68 61 ...
     C237   00
.err_msg_cmd
     C238   42 61 64 ...
     C256   00
.prompt_msg
     C257   0A
     C258   5A 3E 
     C25A   00
.start_msg
     C25B   5A 6F 6C ...
     C266   00
.acia_wait_send_clr
     C267   48         PHA
.acia_wait_send_loop
     C268   AD 01 B0   LDA &B001
     C26B   29 10      AND #&10
     C26D   F0 F9      BEQ &C268
     C26F   68         PLA
     C270   60         RTS
.acia_wait_byte_recvd
     C271   AD 01 B0   LDA &B001
     C274   29 08      AND #&08
     C276   F0 F9      BEQ &C271
     C278   60         RTS
.serial_print_rx_buf
     C279   A9 01      LDA #&01
     C27B   20 35 C3   JSR &C335
     C27E   20 06 C3   JSR &C306
     C281   AD A0 02   LDA &02A0
     C284   29 F0      AND #&F0
     C286   8D A0 02   STA &02A0
     C289   A2 00      LDX #&00
.get_rx_char
     C28B   BD 00 04   LDA &0400,X
     C28E   F0 0D      BEQ &C29D
     C290   20 4D C3   JSR &C34D
     C293   E8         INX
     C294   EC FF 04   CPX &04FF
     C297   F0 04      BEQ &C29D
     C299   E0 FF      CPX #&FF
     C29B   D0 EE      BNE &C28B
.end_print_rx
     C29D   A2 00      LDX #&00
     C29F   8E FF 04   STX &04FF
     C2A2   8E 00 04   STX &0400
     C2A5   60         RTS
.serial_send_buffer
     C2A6   A2 00      LDX #&00
.serial_send_next_char
     C2A8   BD 00 03   LDA &0300,X
     C2AB   F0 13      BEQ &C2C0
     C2AD   20 67 C2   JSR &C267
     C2B0   8D 00 B0   STA &B000
     C2B3   E8         INX
     C2B4   EC FF 03   CPX &03FF
     C2B7   F0 07      BEQ &C2C0
     C2B9   E0 F0      CPX #&F0
     C2BB   F0 03      BEQ &C2C0
     C2BD   4C A8 C2   JMP &C2A8
.serial_send_buf_end
     C2C0   A9 00      LDA #&00
     C2C2   8D FF 03   STA &03FF
     C2C5   60         RTS
.serial_send_char
     C2C6   20 67 C2   JSR &C267
     C2C9   8D 00 B0   STA &B000
     C2CC   60         RTS
.serial_send_hexval
     C2CD   48         PHA
     C2CE   8A         TXA
     C2CF   48         PHA
     C2D0   98         TYA
     C2D1   48         PHA
     C2D2   20 7E C3   JSR &C37E
     C2D5   A9 A0      LDA #&A0
     C2D7   85 70      STA &70
     C2D9   A9 07      LDA #&07
     C2DB   85 71      STA &71
     C2DD   20 EF C2   JSR &C2EF
     C2E0   68         PLA
     C2E1   A8         TAY
     C2E2   68         PLA
     C2E3   AA         TAX
     C2E4   68         PLA
     C2E5   60         RTS
.serial_send_lineend
     C2E6   A9 0A      LDA #&0A
     C2E8   20 67 C2   JSR &C267
     C2EB   8D 00 B0   STA &B000
     C2EE   60         RTS
.serial_send_msg
     C2EF   48         PHA
     C2F0   98         TYA
     C2F1   48         PHA
     C2F2   A0 00      LDY #&00
.serial_send_msg_chr
     C2F4   B1 70      LDA (&70),Y
     C2F6   F0 0A      BEQ &C302
     C2F8   20 67 C2   JSR &C267
     C2FB   8D 00 B0   STA &B000
     C2FE   C8         INY
     C2FF   4C F4 C2   JMP &C2F4
.serial_send_msg_end
     C302   68         PLA
     C303   A8         TAY
     C304   68         PLA
     C305   60         RTS
.serial_send_prompt
     C306   A9 57      LDA #&57
     C308   85 70      STA &70
     C30A   A9 C2      LDA #&C2
     C30C   85 71      STA &71
     C30E   20 EF C2   JSR &C2EF
     C311   60         RTS
.lcd_wait
     C312   48         PHA
     C313   A9 00      LDA #&00
     C315   8D 02 A0   STA &A002
.lcd_busy
     C318   A9 40      LDA #&40
     C31A   8D 01 A0   STA &A001
     C31D   A9 C0      LDA #&C0
     C31F   8D 01 A0   STA &A001
     C322   AD 00 A0   LDA &A000
     C325   29 80      AND #&80
     C327   D0 EF      BNE &C318
     C329   A9 40      LDA #&40
     C32B   8D 01 A0   STA &A001
     C32E   A9 FF      LDA #&FF
     C330   8D 02 A0   STA &A002
     C333   68         PLA
     C334   60         RTS
.lcd_cmd
     C335   48         PHA
     C336   20 12 C3   JSR &C312
     C339   8D 00 A0   STA &A000
     C33C   A9 00      LDA #&00
     C33E   8D 01 A0   STA &A001
     C341   A9 80      LDA #&80
     C343   8D 01 A0   STA &A001
     C346   A9 00      LDA #&00
     C348   8D 01 A0   STA &A001
     C34B   68         PLA
     C34C   60         RTS
.lcd_prt_chr
     C34D   20 12 C3   JSR &C312
     C350   8D 00 A0   STA &A000
     C353   A9 20      LDA #&20
     C355   8D 01 A0   STA &A001
     C358   A9 A0      LDA #&A0
     C35A   8D 01 A0   STA &A001
     C35D   A9 20      LDA #&20
     C35F   8D 01 A0   STA &A001
     C362   60         RTS
.lcd_prt_msg
     C363   A0 00      LDY #&00
.lcd_prt_msg_chr
     C365   B1 70      LDA (&70),Y
     C367   F0 07      BEQ &C370
     C369   20 4D C3   JSR &C34D
     C36C   C8         INY
     C36D   4C 65 C3   JMP &C365
.lcd_prt_msg_end
     C370   60         RTS
.lcd_set_cursor
     C371   8A         TXA
     C372   C0 01      CPY #&01
     C374   90 02      BCC &C378
     C376   09 40      ORA #&40
.lcd_move_curs
     C378   09 80      ORA #&80
     C37A   20 35 C3   JSR &C335
     C37D   60         RTS
.byte_to_hex_str
     C37E   48         PHA
     C37F   8A         TXA
     C380   48         PHA
     C381   98         TYA
     C382   48         PHA
     C383   AD E4 07   LDA &07E4
     C386   AA         TAX
     C387   4A         LSR A
     C388   4A         LSR A
     C389   4A         LSR A
     C38A   4A         LSR A
     C38B   A8         TAY
     C38C   B9 22 C2   LDA &C222,Y
     C38F   8D E5 07   STA &07E5
     C392   8A         TXA
     C393   29 0F      AND #&0F
     C395   A8         TAY
     C396   B9 22 C2   LDA &C222,Y
     C399   8D E6 07   STA &07E6
     C39C   A9 00      LDA #&00
     C39E   8D E7 07   STA &07E7
     C3A1   68         PLA
     C3A2   A8         TAY
     C3A3   68         PLA
     C3A4   AA         TAX
     C3A5   68         PLA
     C3A6   60         RTS
.hex_str_to_byte
     C3A7   48         PHA
     C3A8   A5 64      LDA &64
     C3AA   20 BE C3   JSR &C3BE
     C3AD   0A         ASL A
     C3AE   0A         ASL A
     C3AF   0A         ASL A
     C3B0   0A         ASL A
     C3B1   85 60      STA &60
     C3B3   A5 63      LDA &63
     C3B5   20 BE C3   JSR &C3BE
     C3B8   05 60      ORA &60
     C3BA   85 60      STA &60
     C3BC   68         PLA
     C3BD   60         RTS
.asc_hex_to_bin
     C3BE   38         SEC
     C3BF   E9 30      SBC #&30
     C3C1   C9 0A      CMP #&0A
     C3C3   90 02      BCC &C3C7
     C3C5   E9 07      SBC #&07
.asc_hex_to_bin_end
     C3C7   60         RTS
.parse_input
     C3C8   A9 01      LDA #&01
     C3CA   85 60      STA &60
     C3CC   A2 00      LDX #&00
     C3CE   AD 00 04   LDA &0400
     C3D1   C9 00      CMP #&00
     C3D3   F0 11      BEQ &C3E6
     C3D5   85 50      STA &50
.parse_next_test
     C3D7   BD 00 C2   LDA &C200,X
     C3DA   C9 FF      CMP #&FF
     C3DC   F0 0A      BEQ &C3E8
     C3DE   C5 50      CMP &50
     C3E0   F0 09      BEQ &C3EB
     C3E2   E8         INX
     C3E3   4C D7 C3   JMP &C3D7
.parse_cmd_nul
     C3E6   85 60      STA &60
.parse_1st_char_fail
     C3E8   4C 3A C4   JMP &C43A
.parse_1st_char_match
     C3EB   8A         TXA
     C3EC   0A         ASL A
     C3ED   AA         TAX
     C3EE   BD 05 C2   LDA &C205,X
     C3F1   85 71      STA &71
     C3F3   BD 06 C2   LDA &C206,X
     C3F6   85 72      STA &72
     C3F8   A0 00      LDY #&00
     C3FA   A2 01      LDX #&01
.parse_next_chr
     C3FC   BD 00 04   LDA &0400,X
     C3FF   85 50      STA &50
     C401   B1 71      LDA (&71),Y
     C403   C9 80      CMP #&80
     C405   B0 0D      BCS &C414
     C407   C9 00      CMP #&00
     C409   F0 2F      BEQ &C43A
     C40B   C5 50      CMP &50
     C40D   D0 1B      BNE &C42A
     C40F   E8         INX
     C410   C8         INY
     C411   4C FC C3   JMP &C3FC
.parse_token_found
     C414   48         PHA
     C415   BD 00 04   LDA &0400,X
     C418   A8         TAY
     C419   68         PLA
     C41A   C0 20      CPY #&20
     C41C   F0 07      BEQ &C425
     C41E   C0 00      CPY #&00
     C420   F0 03      BEQ &C425
     C422   4C 3A C4   JMP &C43A
.parse_token_ok
     C425   85 60      STA &60
     C427   4C 3A C4   JMP &C43A
.parse_next_cmd
     C42A   A2 01      LDX #&01
.parse_fast_forward
     C42C   C8         INY
     C42D   B1 71      LDA (&71),Y
     C42F   C9 80      CMP #&80
     C431   B0 03      BCS &C436
     C433   4C 2C C4   JMP &C42C
.parse_next_cmd_jmp
     C436   C8         INY
     C437   4C FC C3   JMP &C3FC
.parse_end
     C43A   60         RTS
.ISR_handler
     C500   48         PHA
     C501   8A         TXA
     C502   48         PHA
     C503   2C 01 B0   BIT &B001
     C506   30 03      BMI &C50B
     C508   4C 2E C5   JMP &C52E
.acia_isr
     C50B   AE FF 04   LDX &04FF
     C50E   AD 00 B0   LDA &B000
     C511   9D 00 04   STA &0400,X
     C514   F0 09      BEQ &C51F
     C516   C9 0A      CMP #&0A
     C518   D0 0D      BNE &C527
     C51A   A9 00      LDA #&00
     C51C   9D 00 04   STA &0400,X
.acia_rx_set_null
     C51F   AD A0 02   LDA &02A0
     C522   09 02      ORA #&02
     C524   8D A0 02   STA &02A0
.acia_isr_end
     C527   E8         INX
     C528   8E FF 04   STX &04FF
     C52B   AD 01 B0   LDA &B001
.exit_isr
     C52E   68         PLA
     C52F   AA         TAX
     C530   68         PLA
     C531   40         RTI
.NMI_handler
.exit_nmi
     C600   40         RTI
.version_str
     C601   5A 6F 6C ...
     C60A   00
     FFFA   00 C6
     FFFC   00 C0
     FFFE   00 C5
.endrom
Saving file '../bin/z64-ROM-dev.bin'
