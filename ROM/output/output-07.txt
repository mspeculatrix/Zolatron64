.startrom
.startcode
     C000   78         SEI
     C001   D8         CLD
     C002   A2 FF      LDX #&FF
     C004   9A         TXS
     C005   A9 FF      LDA #&FF
     C007   8D 02 A0   STA &A002
     C00A   A9 E0      LDA #&E0
     C00C   8D 03 A0   STA &A003
     C00F   A9 00      LDA #&00
     C011   8D 01 B0   STA &B001
     C014   8D A0 02   STA &02A0
     C017   8D FF 04   STA &04FF
     C01A   8D FF 03   STA &03FF
     C01D   A9 9E      LDA #&9E
     C01F   8D 03 B0   STA &B003
     C022   A9 09      LDA #&09
     C024   8D 02 B0   STA &B002
     C027   A9 38      LDA #&38
     C029   20 10 C2   JSR &C210
     C02C   A9 0C      LDA #&0C
     C02E   20 10 C2   JSR &C210
     C031   A9 01      LDA #&01
     C033   20 10 C2   JSR &C210
.main
     C036   A9 0A      LDA #&0A
     C038   20 A7 C1   JSR &C1A7
     C03B   20 A7 C1   JSR &C1A7
     C03E   A9 3C      LDA #&3C
     C040   85 70      STA &70
     C042   A9 C1      LDA #&C1
     C044   85 71      STA &71
     C046   20 D0 C1   JSR &C1D0
     C049   20 C7 C1   JSR &C1C7
     C04C   A9 01      LDA #&01
     C04E   85 70      STA &70
     C050   A9 C5      LDA #&C5
     C052   85 71      STA &71
     C054   20 D0 C1   JSR &C1D0
     C057   20 E1 C1   JSR &C1E1
     C05A   A9 3C      LDA #&3C
     C05C   85 70      STA &70
     C05E   A9 C1      LDA #&C1
     C060   85 71      STA &71
     C062   20 3E C2   JSR &C23E
     C065   A2 00      LDX #&00
     C067   A0 01      LDY #&01
     C069   20 4C C2   JSR &C24C
     C06C   A9 01      LDA #&01
     C06E   85 70      STA &70
     C070   A9 C5      LDA #&C5
     C072   85 71      STA &71
     C074   20 3E C2   JSR &C23E
     C077   58         CLI
.mainloop
     C078   AD A0 02   LDA &02A0
     C07B   29 02      AND #&02
     C07D   D0 0B      BNE &C08A
     C07F   18         CLC
     C080   AE FF 04   LDX &04FF
     C083   E0 F0      CPX #&F0
     C085   B0 03      BCS &C08A
     C087   4C 78 C0   JMP &C078
.process_rx
     C08A   78         SEI
     C08B   AD A0 02   LDA &02A0
     C08E   29 F0      AND #&F0
     C090   8D A0 02   STA &02A0
     C093   20 94 C2   JSR &C294
     C096   A5 60      LDA &60
     C098   C9 00      CMP #&00
     C09A   F0 21      BEQ &C0BD
     C09C   C9 01      CMP #&01
     C09E   F0 12      BEQ &C0B2
     C0A0   38         SEC
     C0A1   E9 80      SBC #&80
     C0A3   0A         ASL A
     C0A4   A8         TAY
     C0A5   B9 C3 C0   LDA &C0C3,Y
     C0A8   85 72      STA &72
     C0AA   B9 C4 C0   LDA &C0C4,Y
     C0AD   85 73      STA &73
     C0AF   6C 72 00   JMP (&0072)
.process_input_fail
     C0B2   A9 32      LDA #&32
     C0B4   85 70      STA &70
     C0B6   A9 C1      LDA #&C1
     C0B8   85 71      STA &71
     C0BA   20 D0 C1   JSR &C1D0
.process_input_nul
     C0BD   20 E1 C1   JSR &C1E1
     C0C0   4C E7 C0   JMP &C0E7
.cmd_proc_ptrs
     C0C3   CD C0
     C0C5   D0 C0
     C0C7   D3 C0
     C0C9   D6 C0
     C0CB   D9 C0
.cmd_proc_STAR
     C0CD   4C E4 C0   JMP &C0E4
.cmd_proc_LM
     C0D0   4C E4 C0   JMP &C0E4
.cmd_proc_PRT
     C0D3   4C E4 C0   JMP &C0E4
.cmd_proc_VERBOSE
     C0D6   4C E4 C0   JMP &C0E4
.cmd_proc_VERS
     C0D9   A9 01      LDA #&01
     C0DB   85 70      STA &70
     C0DD   A9 C5      LDA #&C5
     C0DF   85 71      STA &71
     C0E1   20 D0 C1   JSR &C1D0
.cmd_proc_end
     C0E4   20 E1 C1   JSR &C1E1
.process_rx_done
     C0E7   A9 00      LDA #&00
     C0E9   8D FF 04   STA &04FF
     C0EC   58         CLI
     C0ED   4C 78 C0   JMP &C078
.cmd_ch1_tbl
     C100   2A 4C 50 ...
     C104   FF
.cmd_ptrs
     C105   0D C1
     C107   0F C1
     C109   12 C1
     C10B   16 C1
.cmd_tbl_STAR
.cmd_STAR
     C10D   80
     C10E   00
.cmd_tbl_ASCL
.cmd_LM
     C10F   4D 
     C110   81
     C111   00
.cmd_tbl_ASCP
.cmd_PRT
     C112   52 54 
     C114   82
     C115   00
.cmd_tbl_ASCV
.cmd_VERBOSE
     C116   45 52 42 ...
     C11C   83
.cmd_VERS
     C11D   45 52 53 
     C120   84
     C121   00
.hex_chr_tbl
     C122   30 31 32 ...
.err_msg_syntax
     C132   57 68 61 ...
     C137   00
.prompt_msg
     C138   0A
     C139   5A 3E 
     C13B   00
.start_msg
     C13C   5A 6F 6C ...
     C147   00
.acia_wait_send_clr
     C148   48         PHA
.acia_wait_send_loop
     C149   AD 01 B0   LDA &B001
     C14C   29 10      AND #&10
     C14E   F0 F9      BEQ &C149
     C150   68         PLA
     C151   60         RTS
.acia_wait_byte_recvd
     C152   AD 01 B0   LDA &B001
     C155   29 08      AND #&08
     C157   F0 F9      BEQ &C152
     C159   60         RTS
.serial_print_rx_buf
     C15A   A9 01      LDA #&01
     C15C   20 10 C2   JSR &C210
     C15F   20 E1 C1   JSR &C1E1
     C162   AD A0 02   LDA &02A0
     C165   29 F0      AND #&F0
     C167   8D A0 02   STA &02A0
     C16A   A2 00      LDX #&00
.get_rx_char
     C16C   BD 00 04   LDA &0400,X
     C16F   F0 0D      BEQ &C17E
     C171   20 28 C2   JSR &C228
     C174   E8         INX
     C175   EC FF 04   CPX &04FF
     C178   F0 04      BEQ &C17E
     C17A   E0 FF      CPX #&FF
     C17C   D0 EE      BNE &C16C
.end_print_rx
     C17E   A2 00      LDX #&00
     C180   8E FF 04   STX &04FF
     C183   8E 00 04   STX &0400
     C186   60         RTS
.serial_send_buffer
     C187   A2 00      LDX #&00
.serial_send_next_char
     C189   BD 00 03   LDA &0300,X
     C18C   F0 13      BEQ &C1A1
     C18E   20 48 C1   JSR &C148
     C191   8D 00 B0   STA &B000
     C194   E8         INX
     C195   EC FF 03   CPX &03FF
     C198   F0 07      BEQ &C1A1
     C19A   E0 F0      CPX #&F0
     C19C   F0 03      BEQ &C1A1
     C19E   4C 89 C1   JMP &C189
.serial_send_buf_end
     C1A1   A9 00      LDA #&00
     C1A3   8D FF 03   STA &03FF
     C1A6   60         RTS
.serial_send_char
     C1A7   20 48 C1   JSR &C148
     C1AA   8D 00 B0   STA &B000
     C1AD   60         RTS
.serial_send_hexval
     C1AE   48         PHA
     C1AF   8A         TXA
     C1B0   48         PHA
     C1B1   98         TYA
     C1B2   48         PHA
     C1B3   20 59 C2   JSR &C259
     C1B6   A9 A0      LDA #&A0
     C1B8   85 70      STA &70
     C1BA   A9 07      LDA #&07
     C1BC   85 71      STA &71
     C1BE   20 D0 C1   JSR &C1D0
     C1C1   68         PLA
     C1C2   A8         TAY
     C1C3   68         PLA
     C1C4   AA         TAX
     C1C5   68         PLA
     C1C6   60         RTS
.serial_send_lineend
     C1C7   A9 0A      LDA #&0A
     C1C9   20 48 C1   JSR &C148
     C1CC   8D 00 B0   STA &B000
     C1CF   60         RTS
.serial_send_msg
     C1D0   A0 00      LDY #&00
.serial_send_msg_chr
     C1D2   B1 70      LDA (&70),Y
     C1D4   F0 0A      BEQ &C1E0
     C1D6   20 48 C1   JSR &C148
     C1D9   8D 00 B0   STA &B000
     C1DC   C8         INY
     C1DD   4C D2 C1   JMP &C1D2
.serial_send_msg_end
     C1E0   60         RTS
.serial_send_prompt
     C1E1   A9 38      LDA #&38
     C1E3   85 70      STA &70
     C1E5   A9 C1      LDA #&C1
     C1E7   85 71      STA &71
     C1E9   20 D0 C1   JSR &C1D0
     C1EC   60         RTS
.lcd_wait
     C1ED   48         PHA
     C1EE   A9 00      LDA #&00
     C1F0   8D 02 A0   STA &A002
.lcd_busy
     C1F3   A9 40      LDA #&40
     C1F5   8D 01 A0   STA &A001
     C1F8   A9 C0      LDA #&C0
     C1FA   8D 01 A0   STA &A001
     C1FD   AD 00 A0   LDA &A000
     C200   29 80      AND #&80
     C202   D0 EF      BNE &C1F3
     C204   A9 40      LDA #&40
     C206   8D 01 A0   STA &A001
     C209   A9 FF      LDA #&FF
     C20B   8D 02 A0   STA &A002
     C20E   68         PLA
     C20F   60         RTS
.lcd_cmd
     C210   48         PHA
     C211   20 ED C1   JSR &C1ED
     C214   8D 00 A0   STA &A000
     C217   A9 00      LDA #&00
     C219   8D 01 A0   STA &A001
     C21C   A9 80      LDA #&80
     C21E   8D 01 A0   STA &A001
     C221   A9 00      LDA #&00
     C223   8D 01 A0   STA &A001
     C226   68         PLA
     C227   60         RTS
.lcd_prt_chr
     C228   20 ED C1   JSR &C1ED
     C22B   8D 00 A0   STA &A000
     C22E   A9 20      LDA #&20
     C230   8D 01 A0   STA &A001
     C233   A9 A0      LDA #&A0
     C235   8D 01 A0   STA &A001
     C238   A9 20      LDA #&20
     C23A   8D 01 A0   STA &A001
     C23D   60         RTS
.lcd_prt_msg
     C23E   A0 00      LDY #&00
.lcd_prt_msg_chr
     C240   B1 70      LDA (&70),Y
     C242   F0 07      BEQ &C24B
     C244   20 28 C2   JSR &C228
     C247   C8         INY
     C248   4C 40 C2   JMP &C240
.lcd_prt_msg_end
     C24B   60         RTS
.lcd_set_cursor
     C24C   8A         TXA
     C24D   C0 01      CPY #&01
     C24F   90 02      BCC &C253
     C251   09 40      ORA #&40
.lcd_move_curs
     C253   09 80      ORA #&80
     C255   20 10 C2   JSR &C210
     C258   60         RTS
.byte_to_hex_str
     C259   AA         TAX
     C25A   4A         LSR A
     C25B   4A         LSR A
     C25C   4A         LSR A
     C25D   4A         LSR A
     C25E   A8         TAY
     C25F   B9 22 C1   LDA &C122,Y
     C262   8D A0 07   STA &07A0
     C265   8A         TXA
     C266   29 0F      AND #&0F
     C268   A8         TAY
     C269   B9 22 C1   LDA &C122,Y
     C26C   8D A1 07   STA &07A1
     C26F   A9 00      LDA #&00
     C271   8D A2 07   STA &07A2
     C274   60         RTS
.hex_str_to_byte
     C275   A5 64      LDA &64
     C277   20 8A C2   JSR &C28A
     C27A   0A         ASL A
     C27B   0A         ASL A
     C27C   0A         ASL A
     C27D   0A         ASL A
     C27E   85 60      STA &60
     C280   A5 63      LDA &63
     C282   20 8A C2   JSR &C28A
     C285   05 60      ORA &60
     C287   85 60      STA &60
     C289   60         RTS
.asc_hex_to_bin
     C28A   38         SEC
     C28B   E9 30      SBC #&30
     C28D   C9 0A      CMP #&0A
     C28F   90 02      BCC &C293
     C291   E9 07      SBC #&07
.asc_hex_to_bin_end
     C293   60         RTS
.parse_input
     C294   A9 01      LDA #&01
     C296   85 60      STA &60
     C298   A2 00      LDX #&00
     C29A   AD 00 04   LDA &0400
     C29D   C9 00      CMP #&00
     C29F   F0 11      BEQ &C2B2
     C2A1   85 50      STA &50
.parse_next_test
     C2A3   BD 00 C1   LDA &C100,X
     C2A6   C9 FF      CMP #&FF
     C2A8   F0 0A      BEQ &C2B4
     C2AA   C5 50      CMP &50
     C2AC   F0 09      BEQ &C2B7
     C2AE   E8         INX
     C2AF   4C A3 C2   JMP &C2A3
.parse_cmd_nul
     C2B2   85 60      STA &60
.parse_1st_char_fail
     C2B4   4C 06 C3   JMP &C306
.parse_1st_char_match
     C2B7   8A         TXA
     C2B8   0A         ASL A
     C2B9   AA         TAX
     C2BA   BD 05 C1   LDA &C105,X
     C2BD   85 72      STA &72
     C2BF   BD 06 C1   LDA &C106,X
     C2C2   85 73      STA &73
     C2C4   A0 00      LDY #&00
     C2C6   A2 01      LDX #&01
.parse_next_chr
     C2C8   BD 00 04   LDA &0400,X
     C2CB   85 50      STA &50
     C2CD   B1 72      LDA (&72),Y
     C2CF   C9 80      CMP #&80
     C2D1   B0 0D      BCS &C2E0
     C2D3   C9 00      CMP #&00
     C2D5   F0 2F      BEQ &C306
     C2D7   C5 50      CMP &50
     C2D9   D0 1B      BNE &C2F6
     C2DB   E8         INX
     C2DC   C8         INY
     C2DD   4C C8 C2   JMP &C2C8
.parse_token_found
     C2E0   48         PHA
     C2E1   BD 00 04   LDA &0400,X
     C2E4   A8         TAY
     C2E5   68         PLA
     C2E6   C0 20      CPY #&20
     C2E8   F0 07      BEQ &C2F1
     C2EA   C0 00      CPY #&00
     C2EC   F0 03      BEQ &C2F1
     C2EE   4C 06 C3   JMP &C306
.parse_token_ok
     C2F1   85 60      STA &60
     C2F3   4C 06 C3   JMP &C306
.parse_next_cmd
     C2F6   A2 01      LDX #&01
.parse_fast_forward
     C2F8   C8         INY
     C2F9   B1 72      LDA (&72),Y
     C2FB   C9 80      CMP #&80
     C2FD   B0 03      BCS &C302
     C2FF   4C F8 C2   JMP &C2F8
.parse_next_cmd_jmp
     C302   C8         INY
     C303   4C C8 C2   JMP &C2C8
.parse_end
     C306   86 65      STX &65
     C308   60         RTS
.ISR_handler
     C400   48         PHA
     C401   8A         TXA
     C402   48         PHA
     C403   2C 01 B0   BIT &B001
     C406   30 03      BMI &C40B
     C408   4C 2E C4   JMP &C42E
.acia_isr
     C40B   AE FF 04   LDX &04FF
     C40E   AD 00 B0   LDA &B000
     C411   9D 00 04   STA &0400,X
     C414   F0 09      BEQ &C41F
     C416   C9 0A      CMP #&0A
     C418   D0 0D      BNE &C427
     C41A   A9 00      LDA #&00
     C41C   9D 00 04   STA &0400,X
.acia_rx_set_null
     C41F   AD A0 02   LDA &02A0
     C422   09 02      ORA #&02
     C424   8D A0 02   STA &02A0
.acia_isr_end
     C427   E8         INX
     C428   8E FF 04   STX &04FF
     C42B   AD 01 B0   LDA &B001
.exit_isr
     C42E   68         PLA
     C42F   AA         TAX
     C430   68         PLA
     C431   40         RTI
.NMI_handler
.exit_nmi
     C500   40         RTI
.version_str
     C501   5A 6F 6C ...
     C509   00
     FFFA   00 C5
     FFFC   00 C0
     FFFE   00 C4
.endrom
Saving file '../bin/z64-ROM-07.bin'
