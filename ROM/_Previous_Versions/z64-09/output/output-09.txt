.startrom
.startcode
     C000   78         SEI
     C001   D8         CLD
     C002   A2 FF      LDX #&FF
     C004   9A         TXS
     C005   A9 FF      LDA #&FF
     C007   8D 02 A0   STA &A002
     C00A   A9 E0      LDA #&E0
     C00C   8D 03 A0   STA &A003
     C00F   9C 01 B0   STZ &B001
     C012   64 80      STZ &80
     C014   9C FF 04   STZ &04FF
     C017   9C FF 03   STZ &03FF
     C01A   64 81      STZ &81
     C01C   A9 9E      LDA #&9E
     C01E   8D 03 B0   STA &B003
     C021   A9 09      LDA #&09
     C023   8D 02 B0   STA &B002
     C026   A9 38      LDA #&38
     C028   20 51 C2   JSR &C251
     C02B   A9 0C      LDA #&0C
     C02D   20 51 C2   JSR &C251
     C030   A9 01      LDA #&01
     C032   20 51 C2   JSR &C251
.main
     C035   A9 0A      LDA #&0A
     C037   20 FF C2   JSR &C2FF
     C03A   20 FF C2   JSR &C2FF
     C03D   A9 57      LDA #&57
     C03F   85 70      STA &70
     C041   A9 C5      LDA #&C5
     C043   85 71      STA &71
     C045   20 22 C3   JSR &C322
     C048   20 19 C3   JSR &C319
     C04B   A9 01      LDA #&01
     C04D   85 70      STA &70
     C04F   A9 C6      LDA #&C6
     C051   85 71      STA &71
     C053   20 22 C3   JSR &C322
     C056   20 37 C3   JSR &C337
     C059   A9 57      LDA #&57
     C05B   85 70      STA &70
     C05D   A9 C5      LDA #&C5
     C05F   85 71      STA &71
     C061   20 7B C2   JSR &C27B
     C064   A2 00      LDX #&00
     C066   A0 01      LDY #&01
     C068   20 89 C2   JSR &C289
     C06B   A9 01      LDA #&01
     C06D   85 70      STA &70
     C06F   A9 C6      LDA #&C6
     C071   85 71      STA &71
     C073   20 7B C2   JSR &C27B
     C076   58         CLI
.mainloop
     C077   A5 80      LDA &80
     C079   29 02      AND #&02
     C07B   D0 0B      BNE &C088
     C07D   18         CLC
     C07E   AE FF 04   LDX &04FF
     C081   E0 F0      CPX #&F0
     C083   B0 03      BCS &C088
     C085   4C 77 C0   JMP &C077
.process_rx
     C088   78         SEI
     C089   A5 80      LDA &80
     C08B   29 F0      AND #&F0
     C08D   85 80      STA &80
     C08F   20 C6 C3   JSR &C3C6
     C092   A5 60      LDA &60
     C094   C9 00      CMP #&00
     C096   F0 21      BEQ &C0B9
     C098   C9 01      CMP #&01
     C09A   F0 12      BEQ &C0AE
     C09C   38         SEC
     C09D   E9 80      SBC #&80
     C09F   0A         ASL A
     C0A0   A8         TAY
     C0A1   B9 BF C0   LDA &C0BF,Y
     C0A4   85 72      STA &72
     C0A6   B9 C0 C0   LDA &C0C0,Y
     C0A9   85 73      STA &73
     C0AB   6C 72 00   JMP (&0072)
.process_input_fail
     C0AE   A9 2E      LDA #&2E
     C0B0   85 70      STA &70
     C0B2   A9 C5      LDA #&C5
     C0B4   85 71      STA &71
     C0B6   20 22 C3   JSR &C322
.process_input_nul
     C0B9   20 37 C3   JSR &C337
     C0BC   4C 8A C1   JMP &C18A
.cmdprcptrs
     C0BF   C9 C0
     C0C1   CC C0
     C0C3   76 C1
     C0C5   79 C1
     C0C7   7C C1
.cmdprcSTAR
     C0C9   4C 87 C1   JMP &C187
.cmdprcLM
     C0CC   9C C3 05   STZ &05C3
     C0CF   9C E5 05   STZ &05E5
     C0D2   A9 01      LDA #&01
     C0D4   8D C2 05   STA &05C2
.cmdprcLM_next2
     C0D7   A0 01      LDY #&01
.cmdprcLM_next_byte
     C0D9   BD 00 04   LDA &0400,X
     C0DC   E8         INX
     C0DD   C9 00      CMP #&00
     C0DF   F0 0F      BEQ &C0F0
     C0E1   C9 20      CMP #&20
     C0E3   F0 F4      BEQ &C0D9
     C0E5   99 63 00   STA &0063,Y
     C0E8   C0 00      CPY #&00
     C0EA   F0 07      BEQ &C0F3
     C0EC   88         DEY
     C0ED   4C D9 C0   JMP &C0D9
.cmdprcLM_next_fail
     C0F0   4C 68 C1   JMP &C168
.cmdprcLM_conv
     C0F3   20 61 C3   JSR &C361
     C0F6   AD C2 05   LDA &05C2
     C0F9   18         CLC
     C0FA   6D C3 05   ADC &05C3
     C0FD   A8         TAY
     C0FE   A5 60      LDA &60
     C100   99 74 00   STA &0074,Y
     C103   AD C2 05   LDA &05C2
     C106   49 01      EOR #&01
     C108   8D C2 05   STA &05C2
     C10B   EE E5 05   INC &05E5
     C10E   AD E5 05   LDA &05E5
     C111   29 02      AND #&02
     C113   8D C3 05   STA &05C3
     C116   A9 04      LDA #&04
     C118   CD E5 05   CMP &05E5
     C11B   F0 03      BEQ &C120
     C11D   4C D7 C0   JMP &C0D7
.cmdprcLM_check
     C120   A5 77      LDA &77
     C122   C5 75      CMP &75
     C124   F0 05      BEQ &C12B
     C126   90 0B      BCC &C133
     C128   4C 36 C1   JMP &C136
.cmdprcLM_chk_lsb
     C12B   A5 76      LDA &76
     C12D   C5 74      CMP &74
     C12F   F0 02      BEQ &C133
     C131   B0 03      BCS &C136
.cmdprcLM_chk_fail
     C133   4C 68 C1   JMP &C168
.cmdprcLM_output
     C136   BD 00 04   LDA &0400,X
     C139   C9 00      CMP #&00
     C13B   F0 03      BEQ &C140
     C13D   4C 68 C1   JMP &C168
.cmdprcLM_o_ok
     C140   A0 00      LDY #&00
.cmdprcLM_o_next
     C142   B9 74 00   LDA &0074,Y
     C145   20 43 C3   JSR &C343
     C148   A9 C4      LDA #&C4
     C14A   85 70      STA &70
     C14C   A9 05      LDA #&05
     C14E   85 71      STA &71
     C150   20 22 C3   JSR &C322
     C153   A9 20      LDA #&20
     C155   20 FF C2   JSR &C2FF
     C158   C0 03      CPY #&03
     C15A   F0 04      BEQ &C160
     C15C   C8         INY
     C15D   4C 42 C1   JMP &C142
.cmdprcLM_o_end
     C160   A9 0A      LDA #&0A
     C162   20 FF C2   JSR &C2FF
     C165   4C 73 C1   JMP &C173
.cmdprcLM_chk
.cmdprcLM_fail
     C168   A9 34      LDA #&34
     C16A   85 70      STA &70
     C16C   A9 C5      LDA #&C5
     C16E   85 71      STA &71
     C170   20 22 C3   JSR &C322
.cmdprcLM_end
     C173   4C 87 C1   JMP &C187
.cmdprcLP
     C176   4C 87 C1   JMP &C187
.cmdprcPRT
     C179   4C 87 C1   JMP &C187
.cmdprcVERS
     C17C   A9 01      LDA #&01
     C17E   85 70      STA &70
     C180   A9 C6      LDA #&C6
     C182   85 71      STA &71
     C184   20 22 C3   JSR &C322
.cmdprc_end
     C187   20 37 C3   JSR &C337
.process_rx_done
     C18A   9C FF 04   STZ &04FF
     C18D   58         CLI
     C18E   4C 77 C0   JMP &C077
.ISR_handler
     C200   48         PHA
     C201   DA         PHX
     C202   5A         PHY
     C203   2C 01 B0   BIT &B001
     C206   30 03      BMI &C20B
     C208   4C 2A C2   JMP &C22A
.acia_isr
     C20B   AE FF 04   LDX &04FF
     C20E   AD 00 B0   LDA &B000
     C211   9D 00 04   STA &0400,X
     C214   F0 07      BEQ &C21D
     C216   C9 0A      CMP #&0A
     C218   D0 09      BNE &C223
     C21A   9E 00 04   STZ &0400,X
.acia_rx_set_null
     C21D   A5 80      LDA &80
     C21F   09 02      ORA #&02
     C221   85 80      STA &80
.acia_isr_end
     C223   E8         INX
     C224   8E FF 04   STX &04FF
     C227   AD 01 B0   LDA &B001
.exit_isr
     C22A   7A         PLY
     C22B   FA         PLX
     C22C   68         PLA
     C22D   40         RTI
.lcd_wait
     C22E   48         PHA
     C22F   A9 00      LDA #&00
     C231   8D 02 A0   STA &A002
.lcd_busy
     C234   A9 40      LDA #&40
     C236   8D 01 A0   STA &A001
     C239   A9 C0      LDA #&C0
     C23B   8D 01 A0   STA &A001
     C23E   AD 00 A0   LDA &A000
     C241   29 80      AND #&80
     C243   D0 EF      BNE &C234
     C245   A9 40      LDA #&40
     C247   8D 01 A0   STA &A001
     C24A   A9 FF      LDA #&FF
     C24C   8D 02 A0   STA &A002
     C24F   68         PLA
     C250   60         RTS
.lcd_cmd
     C251   48         PHA
     C252   20 2E C2   JSR &C22E
     C255   8D 00 A0   STA &A000
     C258   9C 01 A0   STZ &A001
     C25B   A9 80      LDA #&80
     C25D   8D 01 A0   STA &A001
     C260   9C 01 A0   STZ &A001
     C263   68         PLA
     C264   60         RTS
.lcd_prt_chr
     C265   20 2E C2   JSR &C22E
     C268   8D 00 A0   STA &A000
     C26B   A9 20      LDA #&20
     C26D   8D 01 A0   STA &A001
     C270   A9 A0      LDA #&A0
     C272   8D 01 A0   STA &A001
     C275   A9 20      LDA #&20
     C277   8D 01 A0   STA &A001
     C27A   60         RTS
.lcd_prt_msg
     C27B   A0 00      LDY #&00
.lcd_prt_msg_chr
     C27D   B1 70      LDA (&70),Y
     C27F   F0 07      BEQ &C288
     C281   20 65 C2   JSR &C265
     C284   C8         INY
     C285   4C 7D C2   JMP &C27D
.lcd_prt_msg_end
     C288   60         RTS
.lcd_set_cursor
     C289   8A         TXA
     C28A   C0 01      CPY #&01
     C28C   90 02      BCC &C290
     C28E   09 40      ORA #&40
.lcd_move_curs
     C290   09 80      ORA #&80
     C292   20 51 C2   JSR &C251
     C295   60         RTS
.subtract_16
     C296   48         PHA
     C297   38         SEC
     C298   A5 76      LDA &76
     C29A   E5 74      SBC &74
     C29C   85 61      STA &61
     C29E   A5 77      LDA &77
     C2A0   E5 75      SBC &75
     C2A2   85 62      STA &62
     C2A4   68         PLA
     C2A5   60         RTS
.acia_wait_send_clr
     C2A6   48         PHA
.acia_wait_send_loop
     C2A7   AD 01 B0   LDA &B001
     C2AA   29 10      AND #&10
     C2AC   F0 F9      BEQ &C2A7
     C2AE   68         PLA
     C2AF   60         RTS
.acia_wait_byte_recvd
     C2B0   AD 01 B0   LDA &B001
     C2B3   29 08      AND #&08
     C2B5   F0 F9      BEQ &C2B0
     C2B7   60         RTS
.serial_print_rx_buf
     C2B8   A9 01      LDA #&01
     C2BA   20 51 C2   JSR &C251
     C2BD   20 37 C3   JSR &C337
     C2C0   A5 80      LDA &80
     C2C2   29 F0      AND #&F0
     C2C4   85 80      STA &80
     C2C6   A2 00      LDX #&00
.get_rx_char
     C2C8   BD 00 04   LDA &0400,X
     C2CB   F0 0D      BEQ &C2DA
     C2CD   20 65 C2   JSR &C265
     C2D0   E8         INX
     C2D1   EC FF 04   CPX &04FF
     C2D4   F0 04      BEQ &C2DA
     C2D6   E0 FF      CPX #&FF
     C2D8   D0 EE      BNE &C2C8
.end_print_rx
     C2DA   9C FF 04   STZ &04FF
     C2DD   9C 00 04   STZ &0400
     C2E0   60         RTS
.serial_send_buffer
     C2E1   A2 00      LDX #&00
.serial_send_next_char
     C2E3   BD 00 03   LDA &0300,X
     C2E6   F0 13      BEQ &C2FB
     C2E8   20 A6 C2   JSR &C2A6
     C2EB   8D 00 B0   STA &B000
     C2EE   E8         INX
     C2EF   EC FF 03   CPX &03FF
     C2F2   F0 07      BEQ &C2FB
     C2F4   E0 F0      CPX #&F0
     C2F6   F0 03      BEQ &C2FB
     C2F8   4C E3 C2   JMP &C2E3
.serial_send_buf_end
     C2FB   9C FF 03   STZ &03FF
     C2FE   60         RTS
.serial_send_char
     C2FF   20 A6 C2   JSR &C2A6
     C302   8D 00 B0   STA &B000
     C305   60         RTS
.serial_send_hexval
     C306   48         PHA
     C307   DA         PHX
     C308   5A         PHY
     C309   20 43 C3   JSR &C343
     C30C   A9 A0      LDA #&A0
     C30E   85 70      STA &70
     C310   A9 05      LDA #&05
     C312   20 22 C3   JSR &C322
     C315   7A         PLY
     C316   FA         PLX
     C317   68         PLA
     C318   60         RTS
.serial_send_lineend
     C319   A9 0A      LDA #&0A
     C31B   20 A6 C2   JSR &C2A6
     C31E   8D 00 B0   STA &B000
     C321   60         RTS
.serial_send_msg
     C322   48         PHA
     C323   5A         PHY
     C324   A0 00      LDY #&00
.serial_send_msg_chr
     C326   B1 70      LDA (&70),Y
     C328   F0 0A      BEQ &C334
     C32A   20 A6 C2   JSR &C2A6
     C32D   8D 00 B0   STA &B000
     C330   C8         INY
     C331   4C 26 C3   JMP &C326
.serial_send_msg_end
     C334   7A         PLY
     C335   68         PLA
     C336   60         RTS
.serial_send_prompt
     C337   A9 53      LDA #&53
     C339   85 70      STA &70
     C33B   A9 C5      LDA #&C5
     C33D   85 71      STA &71
     C33F   20 22 C3   JSR &C322
     C342   60         RTS
.byte_to_hex_str
     C343   DA         PHX
     C344   5A         PHY
     C345   AA         TAX
     C346   4A         LSR A
     C347   4A         LSR A
     C348   4A         LSR A
     C349   4A         LSR A
     C34A   A8         TAY
     C34B   B9 1D C5   LDA &C51D,Y
     C34E   8D C4 05   STA &05C4
     C351   8A         TXA
     C352   29 0F      AND #&0F
     C354   A8         TAY
     C355   B9 1D C5   LDA &C51D,Y
     C358   8D C5 05   STA &05C5
     C35B   9C C6 05   STZ &05C6
     C35E   7A         PLY
     C35F   FA         PLX
     C360   60         RTS
.hex_str_to_byte
     C361   48         PHA
     C362   5A         PHY
     C363   A5 64      LDA &64
     C365   20 8D C3   JSR &C38D
     C368   A8         TAY
     C369   C9 FF      CMP #&FF
     C36B   F0 19      BEQ &C386
     C36D   98         TYA
     C36E   0A         ASL A
     C36F   0A         ASL A
     C370   0A         ASL A
     C371   0A         ASL A
     C372   85 60      STA &60
     C374   A5 63      LDA &63
     C376   20 8D C3   JSR &C38D
     C379   A8         TAY
     C37A   C9 FF      CMP #&FF
     C37C   F0 08      BEQ &C386
     C37E   98         TYA
     C37F   05 60      ORA &60
     C381   85 60      STA &60
     C383   4C 8A C3   JMP &C38A
.hex_str_to_byte_err
     C386   A9 FF      LDA #&FF
     C388   85 60      STA &60
.hex_str_to_byte_end
     C38A   7A         PLY
     C38B   68         PLA
     C38C   60         RTS
.asc_hex_to_bin
     C38D   38         SEC
     C38E   E9 30      SBC #&30
     C390   C9 0A      CMP #&0A
     C392   90 09      BCC &C39D
     C394   38         SEC
     C395   E9 07      SBC #&07
     C397   C9 06      CMP #&06
     C399   90 02      BCC &C39D
.asc_hex_to_bin_err
     C39B   A9 FF      LDA #&FF
.asc_hex_to_bin_end
     C39D   60         RTS
.res_word_to_hex_str
     C39E   48         PHA
     C39F   A5 61      LDA &61
     C3A1   20 43 C3   JSR &C343
     C3A4   AD C4 05   LDA &05C4
     C3A7   8D E6 05   STA &05E6
     C3AA   AD C5 05   LDA &05C5
     C3AD   8D E7 05   STA &05E7
     C3B0   A5 62      LDA &62
     C3B2   20 43 C3   JSR &C343
     C3B5   AD E6 05   LDA &05E6
     C3B8   8D C6 05   STA &05C6
     C3BB   AD E7 05   LDA &05E7
     C3BE   8D C7 05   STA &05C7
     C3C1   9C C8 05   STZ &05C8
     C3C4   68         PLA
     C3C5   60         RTS
.parse_input
     C3C6   A9 01      LDA #&01
     C3C8   85 60      STA &60
     C3CA   A2 00      LDX #&00
     C3CC   AD 00 04   LDA &0400
     C3CF   C9 00      CMP #&00
     C3D1   F0 11      BEQ &C3E4
     C3D3   85 50      STA &50
.parse_next_test
     C3D5   BD 00 C5   LDA &C500,X
     C3D8   C9 FF      CMP #&FF
     C3DA   F0 0A      BEQ &C3E6
     C3DC   C5 50      CMP &50
     C3DE   F0 09      BEQ &C3E9
     C3E0   E8         INX
     C3E1   4C D5 C3   JMP &C3D5
.parse_cmd_nul
     C3E4   85 60      STA &60
.parse_1st_char_fail
     C3E6   4C 36 C4   JMP &C436
.parse_1st_char_match
     C3E9   8A         TXA
     C3EA   0A         ASL A
     C3EB   AA         TAX
     C3EC   BD 05 C5   LDA &C505,X
     C3EF   85 72      STA &72
     C3F1   BD 06 C5   LDA &C506,X
     C3F4   85 73      STA &73
     C3F6   A0 00      LDY #&00
     C3F8   A2 01      LDX #&01
.parse_next_chr
     C3FA   BD 00 04   LDA &0400,X
     C3FD   85 50      STA &50
     C3FF   B1 72      LDA (&72),Y
     C401   30 0D      BMI &C410
     C403   C9 00      CMP #&00
     C405   F0 2F      BEQ &C436
     C407   C5 50      CMP &50
     C409   D0 1B      BNE &C426
     C40B   E8         INX
     C40C   C8         INY
     C40D   4C FA C3   JMP &C3FA
.parse_token_found
     C410   48         PHA
     C411   BD 00 04   LDA &0400,X
     C414   A8         TAY
     C415   68         PLA
     C416   C0 20      CPY #&20
     C418   F0 07      BEQ &C421
     C41A   C0 00      CPY #&00
     C41C   F0 03      BEQ &C421
     C41E   4C 36 C4   JMP &C436
.parse_token_ok
     C421   85 60      STA &60
     C423   4C 36 C4   JMP &C436
.parse_next_cmd
     C426   A2 01      LDX #&01
.parse_fast_forward
     C428   C8         INY
     C429   B1 72      LDA (&72),Y
     C42B   C9 80      CMP #&80
     C42D   B0 03      BCS &C432
     C42F   4C 28 C4   JMP &C428
.parse_next_cmd_jmp
     C432   C8         INY
     C433   4C FA C3   JMP &C3FA
.parse_end
     C436   60         RTS
.cmd_ch1_tbl
     C500   2A 4C 50 ...
     C504   FF
.cmd_ptrs
     C505   0D C5
     C507   0F C5
     C509   14 C5
     C50B   18 C5
.cmd_tbl_STAR
.cmd_STAR
     C50D   80
     C50E   00
.cmd_tbl_ASCL
.cmd_LM
     C50F   4D 
     C510   81
.cmd_LP
     C511   50 
     C512   82
     C513   00
.cmd_tbl_ASCP
.cmd_PRT
     C514   52 54 
     C516   83
     C517   00
.cmd_tbl_ASCV
.cmd_VERS
     C518   45 52 53 
     C51B   84
     C51C   00
.hex_chr_tbl
     C51D   30 31 32 ...
     C52D   00
.err_msg_syntax
     C52E   57 68 61 ...
     C533   00
.err_msg_cmd
     C534   42 61 64 ...
     C552   00
.prompt_msg
     C553   0A
     C554   5A 3E 
     C556   00
.start_msg
     C557   5A 6F 6C ...
     C562   00
.NMI_handler
.exit_nmi
     C600   40         RTI
.version_str
     C601   5A 6F 6C ...
     C60A   00
     FFFA   00 C6
     FFFC   00 C0
     FFFE   00 C2
.endrom
Saving file 'bin/z64-ROM-09.bin'
